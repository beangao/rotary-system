# ロータリークラブアプリ - 初回登録フロー仕様書

## 概要
招待メールを受け取ったユーザーが、アプリをインストールしてから利用開始するまでの完全なフローです。

---

## フロー全体図

```
[招待メール受信]
    ↓
[アプリインストール]
    ↓
[1. 初回起動画面（分岐選択）] ← app-launch-screen.jsx
    ↓
    ├─ 初めての方 → [新規登録フロー]
    │                    ↓
    │              [2. メールアドレス入力] ← verification-code-flow.jsx (EmailInputScreen)
    │                    ↓
    │              [3. 認証コード入力（6桁）] ← verification-code-flow.jsx (CodeVerificationScreen)
    │                    ↓
    │              [4. パスワード設定] ← registration-flow-complete.jsx (PasswordSetupScreen)
    │                    ↓
    │              [5. プロフィール設定（最小限）] ← minimal-profile-setup.jsx
    │                    ↓
    │              [完了 → メイン画面へ]
    │
    └─ アカウントをお持ちの方 → [ログイン画面] ← login-screen.jsx
                                      ↓
                                 [メール + パスワード入力]
                                      ↓
                                      ├─ ログイン成功 → [プロフィール設定チェック]
                                      │                       ↓
                                      │                       ├─ 未設定 → [5. プロフィール設定（最小限）] ← minimal-profile-setup.jsx
                                      │                       │                    ↓
                                      │                       │              [完了 → メイン画面へ]
                                      │                       │
                                      │                       └─ 設定済み → [メイン画面へ]
                                      │
                                      └─ パスワードを忘れた方 → [パスワード再設定フロー]
                                                                      ↓
                                                              [6. メールアドレス入力] ← password-reset-flow.jsx (EmailInputScreen)
                                                                      ↓
                                                              [7. 認証コード入力（6桁）] ← password-reset-flow.jsx (CodeVerificationScreen)
                                                                      ↓
                                                              [8. 新しいパスワード設定] ← password-reset-flow.jsx (NewPasswordScreen)
                                                                      ↓
                                                              [完了 → 自動ログイン → プロフィール設定チェック]
                                                                                              ↓
                                                                                              ├─ 未設定 → [5. プロフィール設定]
                                                                                              │                  ↓
                                                                                              │            [メイン画面へ]
                                                                                              │
                                                                                              └─ 設定済み → [メイン画面へ]

[事務局管理システム] ← rotary-login-dashboard-v2.jsx
  - 事務局専用ログイン画面
  - ダッシュボード（統計・次回例会・お知らせ）
  - サイドバーナビゲーション

[会員情報管理画面] ← rotary-member-management.jsx
  - 会員情報の閲覧・編集
  - ReadOnly項目 / Writable項目の管理
  - CSV一括登録・エクスポート

[統合デモ] ← rotary-app.jsx
  - 全フローの統合デモンストレーション
```

---

## 各画面の詳細仕様

### 1. 初回起動画面（分岐選択）
**ファイル**: `app-launch-screen.jsx`

#### 目的
新規ユーザーと既存ユーザー（再インストール）を分岐

#### UI構成
- ロータリークラブのロゴ（円形、白背景）
- 「ようこそ」メッセージ
- 2つの選択ボタン：
  1. **初めての方（新規登録）** - 青色の大きなボタン
  2. **アカウントをお持ちの方（ログイン）** - 白色のボーダーボタン

#### 画面遷移
- 「初めての方」→ メールアドレス入力画面
- 「アカウントをお持ちの方」→ ログイン画面

---

### 2. メールアドレス入力画面
**ファイル**: `verification-code-flow.jsx` (EmailInputScreen コンポーネント)

#### 目的
招待メールに記載されたメールアドレスで本人確認を開始

#### UI構成
- 戻るボタン（左上）
- タイトル：「本人確認」
- 説明カード（青背景）：「招待メールを確認」
- 入力フィールド：
  - メールアドレス（email型）
  - プレースホルダー：「例：tanaka@example.com」
- ボタン：「認証コードを送信」（画面下部固定）

#### バリデーション
1. 空欄チェック → 「メールアドレスを入力してください」
2. フォーマットチェック → 「正しいメールアドレスを入力してください」
3. 登録済みチェック → 「このアドレスは登録されていません。招待メールをご確認ください。」

#### 画面遷移
- 成功時：
  1. トースト通知表示（「認証コードを送信しました」）
  2. 1秒後に認証コード入力画面へ自動遷移
- エラー時：エラーメッセージ表示、画面は遷移しない

#### テストデータ
- 登録済みメール: `tanaka@example.com`

---

### 3. 認証コード入力画面（6桁）
**ファイル**: `verification-code-flow.jsx` (CodeVerificationScreen コンポーネント)

#### 目的
メールで送信された6桁の認証コードを入力して本人確認完了

#### UI構成
- 戻るボタン（左上）
- タイトル：「認証コード入力」
- ヘッダー部分：
  - 封筒アイコン（青丸背景）
  - 「メールを確認してください」
  - 送信先メールアドレス表示（青太字）
- 入力フィールド：
  - 6つの独立した入力欄（1文字ずつ）
  - サイズ: w-14 h-16
  - フォントサイズ: text-3xl
  - 入力タイプ: inputMode="numeric"
- 補助リンク：「コードを再送する」

#### UX機能
1. **自動フォーカス移動**
   - 1文字入力 → 次の欄へ自動移動
   - Backspace → 前の欄へ戻る

2. **ペースト対応**
   - 6桁の数字を一括貼り付け可能
   - 最初の入力欄でのみ有効

3. **自動照合**
   - 6桁すべて入力完了 → 即座に照合開始
   - ローディング表示：「確認中...」

4. **視覚的フィードバック**
   - 未入力: グレー枠
   - 入力済み: 青枠＋青背景
   - エラー時: 赤枠＋赤背景

#### バリデーション・エラー処理
- コード不一致 → 「認証コードが正しくありません」
- エラー時、全入力欄をクリアして最初の欄にフォーカス

#### 画面遷移
- 成功時：パスワード設定画面へ
- 「コードを再送する」クリック時：トースト表示、入力欄クリア

#### テストデータ
- 正しいコード: `123456`

---

### 4. パスワード設定画面
**ファイル**: `registration-flow-complete.jsx` (PasswordSetupScreen コンポーネント)

#### 目的
ログイン用のパスワードを設定

#### UI構成
- 戻るボタン（左上）
- タイトル：「パスワード設定」
- 説明カード（青背景）：「安全なパスワードを設定」
- 登録メールアドレス表示（読み取り専用）
- 入力フィールド：
  1. **パスワード**
     - 表示/非表示切り替えボタン（目アイコン）
     - パスワード条件表示（リアルタイム色変化）
       - 8文字以上
       - 大文字を含む
       - 小文字を含む
       - 数字を含む
  2. **パスワード（確認）**
     - 表示/非表示切り替えボタン
- ボタン：「パスワードを設定」（画面下部固定）

#### バリデーション
1. パスワード条件チェック
   - 8文字未満 → 「パスワードは8文字以上で、大文字・小文字・数字を含む必要があります」
   - 大文字なし → 同上
   - 小文字なし → 同上
   - 数字なし → 同上
2. 確認パスワード
   - 空欄 → 「確認用パスワードを入力してください」
   - 不一致 → 「パスワードが一致しません」

#### 画面遷移
- 成功時：プロフィール設定画面へ

---

### 5. プロフィール設定画面（最小限）
**ファイル**: `minimal-profile-setup.jsx`

#### 目的
親しみやすいプロフィール情報を設定（全項目任意）

#### UI構成
- ヘッダー：
  - 左：「プロフィール設定」
  - 右：「あとで設定」リンク
- ウェルカムメッセージ
- 入力項目（すべて任意）：
  1. プロフィール写真（円形プレビュー、5MB以下）
  2. 趣味（タグ形式、追加・削除可能）
  3. 自己紹介（複数行テキストエリア、文字数カウンター付き）

#### 画面遷移
- 「はじめる」クリック → メイン画面へ
- 「あとで設定」クリック → メイン画面へ（スキップ）

---

### 6. ログイン画面
**ファイル**: `login-screen.jsx`

#### 目的
既存ユーザーがアカウントにログイン

#### UI構成
- ヘッダー：ロータリーロゴ（円形、白背景） + 「ログイン」タイトル
- 入力フィールド：
  - メールアドレス（inputMode="email"）
  - パスワード（目アイコンで表示/非表示切り替え、右側配置）
- ボタン：「ログイン」（青色、画面下部固定）
- 補助リンク：
  - 「パスワードを忘れた方はこちら」（中央配置）
  - 「← 前の画面に戻る」（下部）

#### バリデーション
1. 空欄チェック → 「メールアドレスを入力してください」「パスワードを入力してください」
2. メールフォーマットチェック → 「正しいメールアドレスを入力してください」
3. ログイン失敗 → 「メールアドレスまたはパスワードが正しくありません」（赤いカード表示）

#### 画面遷移
- ログイン成功 → **プロフィール設定チェック**
  - プロフィール未設定の場合 → プロフィール設定画面へ（minimal-profile-setup.jsx）
  - プロフィール設定済みの場合 → メイン画面へ
- 「パスワードを忘れた方」クリック → パスワード再設定フローへ
- 「前の画面に戻る」クリック → 初回起動画面へ

#### プロフィール設定チェックロジック
ログイン成功後、以下の項目をチェック：
- プロフィール写真の有無
- 趣味の入力有無
- 自己紹介の入力有無

**すべて未入力の場合** → プロフィール設定画面へ誘導  
**1つでも入力済みの場合** → 設定済みと判断してメイン画面へ

> **注**: 実装時は`hasCompletedProfile`フラグまたはAPI応答で判定

#### テストデータ
- メール: `tanaka@example.com` / パスワード: `Test1234`
- メール: `yamada@example.com` / パスワード: `Test1234`

---

### 7. パスワード再設定フロー
**ファイル**: `password-reset-flow.jsx`

#### 目的
パスワードを忘れたユーザーが新しいパスワードを設定

#### フロー構成（3画面 + 完了画面）

##### 7-1. メールアドレス入力画面（EmailInputScreen）
- タイトル：「パスワードの再設定」
- 説明カード：「登録メールアドレスを入力」
- メールアドレス入力欄
- ボタン：「認証コードを送信」
- バリデーション：
  - 空欄チェック → 「メールアドレスを入力してください」
  - メールフォーマットチェック → 「正しいメールアドレスを入力してください」
  - **登録済みチェック** → 未登録なら「このアドレスは登録されていません」
- 画面遷移：成功時 → トースト表示「認証コードを送信しました」→ 認証コード入力画面

##### 7-2. 認証コード入力画面（CodeVerificationScreen）
- タイトル：「パスワードの再設定」
- 封筒アイコン + 「メールを確認してください」
- 送信先メールアドレス表示
- 6桁の数字入力欄（1文字ずつ分離）
- 自動照合機能（6桁入力完了で即座に照合）
- 「コードを再送する」リンク
- エラー時：「認証コードが正しくありません」
- 画面遷移：成功時 → 新しいパスワード設定画面

##### 7-3. 新しいパスワード設定画面（NewPasswordScreen）
- タイトル：「パスワードの再設定」
- 説明カード：「新しいパスワードを設定」
- アカウントメールアドレス表示（読み取り専用）
- 入力項目：
  - 新しいパスワード（目アイコンで表示/非表示切り替え）
  - 新しいパスワード（確認）（目アイコンで表示/非表示切り替え）
- パスワード条件表示（リアルタイムで色変化）：
  - 8文字以上
  - 大文字を含む
  - 小文字を含む
  - 数字を含む
- ボタン：「パスワードを更新してログイン」
- バリデーション：
  - パスワード条件チェック
  - 確認パスワード一致チェック
- 画面遷移：成功時 → 完了画面

##### 7-4. 完了画面
- 緑の背景グラデーション
- チェックアイコン（緑色）
- 「パスワードを更新しました」メッセージ
- 「新しいパスワードでログインできます。ホーム画面へ移動します...」
- トースト通知：「パスワードを更新しました」
- ローディングスピナー表示
- 2秒後に自動ログイン → **プロフィール設定チェック**
  - プロフィール未設定の場合 → プロフィール設定画面へ
  - プロフィール設定済みの場合 → メイン画面へ

#### テストデータ
- 登録済みメール: `tanaka@example.com`, `yamada@example.com`
- 認証コード: `123456`
- 新しいパスワード例: `NewPass123`

---

## 管理画面・デモ画面

### 8. 会員情報管理画面
**ファイル**: `rotary-member-management.jsx`

#### 目的
事務局が会員情報を閲覧・編集する管理画面

#### 機能
- 会員リスト表示
- 会員詳細情報の閲覧
- ReadOnly項目とWritable項目の区別
- 会員情報の編集機能
- 検索・フィルタリング

#### データ項目
- **ReadOnly（事務局管理）**: 会員番号、姓名、ふりがな、性別、生年月日、役職、入会日
- **Writable（会員編集可能）**: 職業分類、会社名、所属部署、電話番号、メールアドレス、顔写真、趣味、自己紹介

---

### 9. 統合デモ画面
**ファイル**: `rotary-app.jsx`

#### 目的
全フローの統合デモンストレーション

#### 機能
- 初回起動からプロフィール設定までの完全フロー
- ログインフロー
- パスワード再設定フロー
- 各画面への直接遷移デモ
- フロー全体の動作確認

---

### 5. プロフィール設定画面（最小限）
**ファイル**: `minimal-profile-setup.jsx`

#### 目的
親しみやすいプロフィール情報を設定（全項目任意）

#### UI構成
- ヘッダー：
  - 左：「プロフィール設定」
  - 右：「あとで設定」リンク
- ウェルカムメッセージ：
  - 「ようこそ！」
  - 「プロフィールを設定して、メンバーとの交流を始めましょう」
  - 「すべて任意項目です。後からいつでも変更できます」

#### 入力項目（すべて任意）

1. **プロフィール写真**
   - 円形プレビュー（w-32 h-32）
   - グラデーション背景（未設定時）
   - 「写真を追加」ボタン
   - 削除ボタン（X）
   - 5MB以下のサイズ制限

2. **趣味（タグ形式）**
   - タグ追加：入力欄 + プラスボタン
   - Enterキーでも追加可能
   - 各タグにXボタンで削除
   - プレースホルダー：「例：ゴルフ、読書、旅行」

3. **自己紹介**
   - 複数行テキストエリア（6行）
   - 文字数カウンター表示
   - プレースホルダー：「メンバーの皆様へのメッセージや、ご自身について自由に記入してください」

#### 案内カード
青いグラデーション背景のカード：
```
📝 その他の情報について
職業分類、会社名、連絡先などの詳細情報は、
メイン画面の「プロフィール編集」からいつでも追加・変更できます。
```

#### ボタン
- 「はじめる」（画面下部固定、グラデーション背景）
- 「プロフィールは後からいつでも編集できます」補足テキスト

#### 画面遷移
- 「はじめる」クリック → メイン画面へ
- 「あとで設定」クリック → メイン画面へ（スキップ）

---

## データ設計

### ユーザーデータ構造

#### ReadOnly（事務局管理項目）
```javascript
{
  memberNumber: "12345",        // 会員番号
  lastName: "山田",             // 姓
  firstName: "太郎",            // 名
  lastNameKana: "ヤマダ",       // 姓（ふりがな）
  firstNameKana: "タロウ",      // 名（ふりがな）
  gender: "男性",               // 性別
  birthDate: "1965-04-01",      // 生年月日
  position: "会員",             // 役職
  joinDate: "2024-01",          // 入会日
}
```

#### Writable（ユーザー編集可能項目）
```javascript
{
  // 基本情報
  industryClassification: "",   // 職業分類
  companyName: "",              // 会社名・屋号
  department: "",               // 所属部署
  phoneNumber: "",              // 電話番号
  email: "tanaka@example.com",  // メールアドレス
  
  // プロフィール情報
  profileImage: null,           // 顔写真（File object）
  hobbies: [],                  // 趣味（配列）
  introduction: "",             // 自己紹介
}
```

---

## 技術仕様

### フレームワーク・ライブラリ
- **React** (関数コンポーネント + Hooks)
- **Tailwind CSS** (スタイリング)
- **lucide-react** (アイコン)

### 主要な状態管理

#### 画面遷移の状態管理
```javascript
const [currentScreen, setCurrentScreen] = useState('email');
// 値: 'email' | 'code' | 'password' | 'profile' | 'complete'
```

#### フォーム状態管理
```javascript
// メールアドレス入力
const [email, setEmail] = useState('');
const [error, setError] = useState('');

// 認証コード入力
const [code, setCode] = useState(['', '', '', '', '', '']);
const [isVerifying, setIsVerifying] = useState(false);

// パスワード設定
const [password, setPassword] = useState('');
const [confirmPassword, setConfirmPassword] = useState('');
const [showPassword, setShowPassword] = useState(false);

// プロフィール設定
const [profileImage, setProfileImage] = useState(null);
const [hobbies, setHobbies] = useState([]);
const [introduction, setIntroduction] = useState('');
```

### 重要なUX実装

#### 1. フォーム送信の問題回避
**問題**: Artifact環境では `<form>` タグが動作しない
**解決**: `<form>` を使わず、ボタンの `onClick` で処理

```javascript
// ❌ 動作しない
<form onSubmit={handleSubmit}>
  <button type="submit">送信</button>
</form>

// ✅ 動作する
<button type="button" onClick={handleSubmit}>送信</button>
```

#### 2. Alert の代替
**問題**: Artifact環境では `alert()` が動作しない
**解決**: 状態管理で画面遷移またはトースト通知を使用

```javascript
// ❌ 動作しない
alert('成功しました');

// ✅ 動作する（画面遷移）
setCurrentScreen('complete');

// ✅ 動作する（トースト）
<Toast message="認証コードを送信しました" />
```

#### 3. 入力フィールドの最適化
```javascript
// 数字のみ入力（生年月日、電話番号、認証コード）
<input
  type="text"
  inputMode="numeric"
  onChange={(e) => {
    const value = e.target.value.replace(/\D/g, '');
    setValue(value);
  }}
/>

// 自動フォーカス移動（認証コード）
if (value && index < 5) {
  inputRefs.current[index + 1]?.focus();
}
```

---

## デザインシステム

### カラーパレット
- **プライマリ**: `blue-900` (#1e3a8a) - ネイビー
- **セカンダリ**: `blue-800` (#1e40af)
- **アクセント**: `blue-100` (#dbeafe) - ライトブルー
- **成功**: `green-600` (#16a34a)
- **エラー**: `red-600` (#dc2626)
- **背景**: `gray-50` (#f9fafb)

### タイポグラフィ
- **ヘッダー**: `text-xl font-bold` (20px)
- **サブヘッダー**: `text-lg font-bold` (18px)
- **本文**: `text-base` (16px)
- **入力フィールド**: `text-xl` (20px) - 高齢者向けに大きく
- **認証コード**: `text-3xl font-bold` (30px)

### スペーシング
- **セクション間**: `mb-6` (24px)
- **項目間**: `mb-4` (16px)
- **パディング（カード）**: `p-5` または `p-6`

### ボーダー半径
- **カード**: `rounded-2xl` (16px) または `rounded-3xl` (24px)
- **ボタン**: `rounded-xl` (12px)
- **入力欄**: `rounded-xl` (12px)

---

## エラーハンドリング

### バリデーションエラー
- 各入力欄の下に赤字でメッセージ表示
- アイコン（AlertCircle）を添える
- 入力欄の枠線を赤色に変更

### サーバーエラー
- カード形式で目立つように表示
- 赤背景 + 赤枠
- タイトル「確認エラー」「エラー」など
- 具体的な対処方法を記載

### ローディング状態
- ボタン：`disabled` + スピナーアイコン + 「送信中...」
- 認証コード照合：「確認中...」 + スピナー

---

## アクセシビリティ

### モバイル最適化
- タップ領域：最低 44x44px
- フォントサイズ：最低 16px（入力欄は 20px以上）
- コントラスト比：WCAG AA準拠

### キーボード操作
- 認証コード：Enterキーで次へ、Backspaceで前へ
- 趣味タグ：Enterキーで追加

### フォーカス管理
- 画面表示時に最初の入力欄へ自動フォーカス
- エラー時、該当フィールドへフォーカス移動

---

## テストシナリオ

### 正常系フロー

#### シナリオ1: 新規登録（すべて入力）
1. 初回起動画面で「初めての方」を選択
2. メール `tanaka@example.com` を入力 → 「認証コードを送信」
3. トースト表示 → 認証コード画面へ自動遷移
4. コード `123456` を入力 → 自動照合開始
5. パスワード設定画面へ遷移
6. パスワード `Test1234` を入力（確認も同じ）→ 「パスワードを設定」
7. プロフィール設定画面へ遷移
8. 写真、趣味、自己紹介を入力 → 「はじめる」
9. メイン画面へ遷移

#### シナリオ2: 新規登録（スキップ多用）
1. 初回起動画面で「初めての方」を選択
2. メール入力 → 認証コード入力 → パスワード設定
3. プロフィール設定で「あとで設定」をクリック
4. メイン画面へ遷移

### 異常系フロー

#### エラーシナリオ1: 未登録メールアドレス
1. メール `unknown@example.com` を入力
2. エラー表示：「このアドレスは登録されていません」
3. 画面は遷移しない

#### エラーシナリオ2: 認証コード間違い
1. 正しいメールアドレスで認証コード画面へ
2. 間違ったコード `654321` を入力
3. エラー表示：「認証コードが正しくありません」
4. 入力欄がクリアされ、最初の欄にフォーカス

#### エラーシナリオ3: パスワード条件不足
1. パスワード `test` を入力（小文字のみ、8文字未満）
2. エラー表示：「パスワードは8文字以上で、大文字・小文字・数字を含む必要があります」
3. 条件表示がグレーのまま（緑にならない）

---

## API連携仕様（想定）

### 1. メールアドレス確認 + 認証コード送信
```
POST /api/auth/send-verification-code
Request:
{
  "email": "tanaka@example.com"
}

Response (成功):
{
  "success": true,
  "message": "認証コードを送信しました"
}

Response (エラー - 未登録):
{
  "success": false,
  "error": "EMAIL_NOT_REGISTERED",
  "message": "このアドレスは登録されていません"
}
```

### 2. 認証コード照合
```
POST /api/auth/verify-code
Request:
{
  "email": "tanaka@example.com",
  "code": "123456"
}

Response (成功):
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "userId": "user_12345"
}

Response (エラー - コード不一致):
{
  "success": false,
  "error": "INVALID_CODE",
  "message": "認証コードが正しくありません"
}
```

### 3. パスワード設定
```
POST /api/auth/set-password
Headers:
{
  "Authorization": "Bearer eyJhbGciOiJIUzI1NiIs..."
}
Request:
{
  "password": "Test1234"
}

Response (成功):
{
  "success": true,
  "message": "パスワードを設定しました"
}
```

### 4. プロフィール設定
```
POST /api/profile/initial-setup
Headers:
{
  "Authorization": "Bearer eyJhbGciOiJIUzI1NiIs..."
}
Request (multipart/form-data):
{
  "profileImage": <File>,
  "hobbies": ["ゴルフ", "読書"],
  "introduction": "よろしくお願いします"
}

Response (成功):
{
  "success": true,
  "profile": {
    "profileImageUrl": "https://...",
    "hobbies": ["ゴルフ", "読書"],
    "introduction": "よろしくお願いします"
  }
}
```

---

## ファイル構成

```
/components
  ├─ app-launch-screen.jsx              # 初回起動（分岐選択）
  ├─ verification-code-flow.jsx         # 認証フロー（メール入力 + 6桁コード入力）
  ├─ registration-flow-complete.jsx     # パスワード設定画面
  ├─ minimal-profile-setup.jsx          # プロフィール設定（最小限）
  ├─ login-screen.jsx                   # ログイン画面（会員用）
  ├─ password-reset-flow.jsx            # パスワード再設定フロー（会員用）
  ├─ rotary-login-dashboard-v2.jsx      # 管理システム（事務局用）
  ├─ rotary-member-management.jsx       # 会員情報管理画面（事務局用）
  └─ rotary-app.jsx                     # 統合デモ
```

---

## 今後の拡張

### プロフィール編集画面
メイン画面からアクセスできる詳細なプロフィール編集画面では、以下の項目も編集可能：
- 職業分類（ドロップダウン）
- 会社名・屋号
- 所属部署
- 電話番号
- メールアドレス

### ログイン画面
「アカウントをお持ちの方」から遷移する画面：
- メールアドレス
- パスワード
- 「パスワードを忘れた方」リンク

---

## 注意事項

### 開発環境の制約
Artifact環境では以下が動作しないため、本番実装時は調整が必要：
1. `<form>` タグの onSubmit
2. `alert()` / `confirm()` / `prompt()`
3. `window.open()` での外部リンク

### セキュリティ
- パスワードは必ずハッシュ化して保存
- 認証コードは有効期限を設定（推奨：10分）
- トークンはHTTP-only cookieまたはセキュアなストレージに保存

### パフォーマンス
- 画像アップロードは5MB制限
- リサイズ・圧縮処理をクライアント側で実施
- 認証コード照合は適切なレート制限を設定

---

## まとめ

このフローは、**セキュアで使いやすい新規登録体験**を提供します：

✅ **セキュリティ**：6桁認証コード + パスワード設定
✅ **UX**：段階的な情報入力、スキップ可能
✅ **アクセシビリティ**：高齢者向けの大きな文字・タップ領域
✅ **デザイン**：ロータリークラブのブランドイメージ維持

各画面のコンポーネントは独立しており、API連携部分を実装すれば本番環境でも動作します。
